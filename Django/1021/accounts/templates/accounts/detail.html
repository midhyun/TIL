{% extends 'base.html' %}

{% block content %}

<div class="container">
  <div class="my-3 d-flex flex-column">
    <div class="mb-3 d-flex justify-content-center">
      {% if user.image %}
      <img src="{{ user.image.url }}" width="200" height="180" class="rounded-circle">
      {% else %}
      <img width="200" height="180" class="rounded-circle" src="https://mblogthumb-phinf.pstatic.net/MjAyMDExMDFfMTA1/MDAxNjA0MjI4ODc1Mzk0.05ODadJdsa3Std55y7vd2Vm8kxU1qScjh5-3eVJ9T-4g.h7lHansSdReVq7IggiFAc44t2W_ZPTPoZWihfRMB_TYg.JPEG.gambasg/%EC%9C%A0%ED%8A%9C%EB%B8%8C_%EA%B8%B0%EB%B3%B8%ED%94%84%EB%A1%9C%ED%95%84_%ED%8C%8C%EB%9E%91.jpg?type=w800">
      {% endif %}
    </div>
    <div class="d-flex justify-content-center">
      <h1>{{ user.username }}님의 프로필</h1>
    </div>
  </div>
  
  <div class="mb-3 row">
    <label for="staticEmail" class="col-sm-2 col-form-label badge text-bg-secondary mt-2 pt-2">Email</label>
    <div class="col-sm-10">
      <input readonly class="form-control-plaintext" value="{{ user.email }}">
    </div>
  </div>
  <div class="mb-3 row">
    <label class="col-sm-2 col-form-label badge text-bg-secondary mt-2 pt-2">성별</label>
    <div class="col-sm-10">
      <p class="form-control-plaintext">{{ user.gender }}</p>
    </div>
  </div>
  <div class="mb-3 row">
    <label class="col-sm-2 col-form-label badge text-bg-secondary mt-2 pt-2">장르</label>
    <div class="col-sm-10">
      <p class="form-control-plaintext">{{ user.genre }}</p>
    </div>
  </div>

  <div class="mb-3 d-flex justify-content-center">
    {% if request.user.pk == user.pk %}
    <a class="mb-3 me-2 btn btn-danger" href="{% url "accounts:accounts_update" request.user.pk %}" role="button">수정하기</a>
    {% endif %}
    <a class="mb-3 btn btn-primary" href="{% url "articles:index" %}" role="button">뒤로가기</a>
  </div>

  <div>
    <h2 class="d-flex justify-content-center">작성한 게시글</h2>
    {% for article in review %}
    <div class ="mb-3 row">
      <label class="col-sm-2 col-form-label badge text-bg-secondary mt-2 pt-4">{{ article.pk }}번 글</label>
      <div class="col-sm-10">
        <span class="form-control-plaintext">제목 : {{ article.title }}</span>
        <span class="form-control-plaintext">내용 : {{ article.content }}</span>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

{% endblock content %}